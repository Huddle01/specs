---
title: MediaNode RPC Endpoints for Registry
---

The media node exposes several RPC endpoints to handle requests from the registry network.

## pingMomo

Responds to ping requests from the discovery service.

```proto
message PingRequest {}

message Pong {
       message: string;
     }
```

## getMomoStatus

Provides the status of the media node, including uptime and connection stats.

```proto
message GetMomoStatusRequest {}

message MyServer {
  string ip = 1;
  string countryCode = 2;
  string city = 3;
}

message EdgeServer {
  string city = 1;
  string countryCode = 2;
  int32 distance = 3;
  string region = 4;
}

message ConnectionStats {
  int32 downloadSpeed = 1;
  int32 uploadSpeed = 2;
  int32 latency = 3;
  int32 jitter = 4;
  MyServer myServer = 5;
  EdgeServer edgeServer = 6;
}

message MomoStatus{
  string momoId = 1;
  int64 timestamp = 2;
  int64 uptime = 3;
  ConnectionStats connectionStats = 4;
}
```

## createPipeTransport

Creates a pipe transport for media streaming.

```proto
message CreatePipeTransportRequest {
    string roomId = 1;
    string remoteIp = 2;
    string remoteMomoId = 3;
 }

 message CreatePipeTransportResponse {
    string roomId = 1;
    string localMomoId = 2;
    string remoteMomoId = 3;
    string transportId = 4;
    ProtoSrtpParameters srtpParameters = 5;
    ProtoTransportTuple tuple = 6;
 }
```

## connectPipeTransport

Connects an existing pipe transport.

```proto
 message ConnectPipeTransportRequest {
    string roomId = 1;
    string remoteIp = 2;
    string remoteMomoId = 3;

    string transportId = 4;
    ProtoSrtpParameters srtpParameters = 5;
    ProtoTransportTuple tuple = 6;
 }

 message ConnectPipeTransportResponse {
    string roomId = 1;
    string remoteMomoId = 2;
    string remoteMomoIp = 3;
 }
```

## sendChallenge

Handles incoming challenge requests.

```proto
message SendChallengeRequest {
  string challengerMomoId = 1;
}

message SendChallengeResponse {
  PipeConsumeResponse consumeResponse = 1;
  string challengerMomoId = 2;
  string producerId = 3;
}
```

## monitorChallenge

Monitors an ongoing challenge.

```proto
message MonitorChallengeRequest {
  PipeProduceRequest produceRequest = 1;
  string proverMomoId = 2;
  string producerId = 3;
}

message MonitorChallengeResponse {
  PipeProduceResponse produceResponse = 1;
  string proverMomoId = 2;
}
```

## stopChallenge

Stops an ongoing challenge.

```proto
message StopChallengeRequest {
  string challengerMomoId = 1;
  string proverMomoId = 2;
  string role = 3;
}

message StopChallengeResponse {
  string challengerMomoId = 1;
  string proverMomoId = 2;
  ScoreSnapshot scoreSnapshot = 3;
}
```
